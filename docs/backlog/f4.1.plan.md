# Implementation Plan

## Overview

Add/confirm Maven plugins for Java 21 enforcement, test lifecycle split, and optional toolchains usage; keep resource filtering as is.

## Context

- .github/instructions/tpl_feature-plan.instructions.md
- docs/backlog/f4.1.spec.md
- docs/backlog/f4.1.design.md

## Tasks

- [ ] 1. Enforcer plugin
  - Add `maven-enforcer-plugin` with `requireJavaVersion` [21,22)
  - Fail on violation

- [ ] 2. Compiler plugin
  - Ensure `maven-compiler-plugin` `<release>21` via property
  - Keep `java.version`=21 in properties

- [ ] 3. Toolchains profile
  - Add `with-toolchains` profile that activates if `~/.m2/toolchains.xml` exists
  - Configure `maven-toolchains-plugin` for JDK 21

- [ ] 4. Test plugins
  - Configure `maven-surefire-plugin` with Spring Shell off and TERM=dumb
  - Add `maven-failsafe-plugin` with includes `*IT.java`, `*ITCase.java`, `*IntegrationTest.java`, default skipped via `<skipITs>true</skipITs>` property

- [ ] 5. Resources
  - Keep two resources entries: filtered `application.properties`; others unfiltered

> End of Feature Implementation Tasks for F4.1, last updated 2025-08-28.