---
description: 'Test Notes for F2.1 Reactive HTTP client with timeouts'
---

# F2.1 Test Notes

Status: ✅ PASSED
Date: 2025-08-28

## Scope

Validate WebClient bean configuration for:
- Default headers (Accept: application/json, User-Agent: ArchetypeJavaCLI/<version>)
- Read/response timeout enforcement via Reactor Netty

## Tests Implemented

- WebClientConfigIntegrationTest
  - webClient_setsDefaultHeaders_userAgentAndAccept: Starts a tiny Reactor Netty HTTP server that echoes request headers and asserts defaults are present.
  - webClient_enforcesReadTimeout_whenServerDelays: Server delays sending response beyond default read timeout; request fails with a timeout-related exception.

## Observations

- User-Agent resolves to ArchetypeJavaCLI/dev under tests (no BuildProperties), which matches the implementation fallback.
- HTTPS support is implicit in WebClient; not specifically asserted here.

## Conclusion

The feature meets the acceptance criteria covered by tests. Remaining spec deltas (single apiTimeoutMs property, default 3000 ms, invalid value fallback) are design variances documented in F2.1 design; current implementation uses separate connect/read timeouts with JSR‑303 validation.

> End of Test Notes for F2.1.
