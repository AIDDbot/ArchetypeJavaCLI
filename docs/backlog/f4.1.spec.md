# F4.1 Maven build plugins configuration — Specification

Configure Maven to ensure consistent, reproducible builds with Java 21, well‑scoped unit/integration test phases, and a foundation for packaging.

- **Epic**: E4 Build and Packaging
- **Priority**: ❕ Normal
- **Product Requirements**:
  
- R7 Non-functional requirements

## User Story 1

- **As a** developer
- **I want to** enforce Java 21 and a consistent compiler setup
- **So that** the project builds predictably across environments

### Acceptance Criteria

- [ ] The build SHALL enforce Java 21 via compiler release and a Java version rule.
- [ ] WHEN building, the compiler SHALL target release 21 without source/target mismatches.
- [ ] WHERE a toolchains.xml exists, the build SHALL use JDK 21 toolchain automatically.

## User Story 2

- **As a** maintainer
- **I want to** configure unit/integration test plugins
- **So that** we can run fast unit tests by default and have placeholders for future ITs

### Acceptance Criteria

- [ ] The build SHALL configure Surefire for unit tests with existing system properties used in the repo.
- [ ] The build SHALL declare Failsafe with sensible includes (e.g., *IT, *ITCase, *IntegrationTest) but be skipped by default to avoid duplicate runs.
- [ ] WHEN running verify with Failsafe enabled, THEN integration tests SHALL execute in the integration‑test/verify phases.

## User Story 3

- **As a** developer
- **I want to** keep resource filtering and build reproducibility in mind
- **So that** artifacts are stable and configuration can be templated

### Acceptance Criteria

- [ ] The build SHALL filter `application.properties` and keep other resources unfiltered (as today).
- [ ] The build SHOULD set up reproducible build settings (timestamp/property) or plugin configuration where reasonable.

> End of Feature Specification for F4.1, last updated 2025-08-28.